угол между векторами на плоскости определяется как двухаргументный арктангенс
$$
\phi = \operatorname{atan2}\left( \vec{a} \wedge \vec{b}, \vec{a} \cdot \vec{b} \right) \tag{1}
$$
здесь:
- $\vec{a}\cdot\vec{b}$ - скалярное произведение (dot product) векторов,
- $\vec{a} \wedge \vec{b}$ - псевдоскалярное или косое произведение (wedge product) векторов на плоскости,
- $atan2$ - двухаргументный арктангенс.
Эта формула $(1)$ получается делением двух соотношений
$\vec{a} \wedge \vec{b}=|a||b|\sin{\phi}$ 
$\vec{a}\cdot\vec{b}=|a||b|\cos{\phi}$ 

для трёхмерного евклидова пространства углы выражаются через векторное произведение (cross product)
$$
\phi = \operatorname{atan2}\left( |\vec{a} \times \vec{b}|, \vec{a} \cdot \vec{b} \right)\tag{2}
$$


## Проекция углов на базовые оси

- Угол рыскания $\psi$ (yaw):
	- Проецируем вектор $n$ на плоскость $XY$
	- Угол между осью $X$ и этой прекцией на равен:
		$\psi = atan2(y,x)$ 
		Функция `atan2(y,x)` сразу правильно определяет угол от −π до +π.
- Угол тангажа θ (pitch)
	- Нужно определить насколько вектор поднят/опущен относительно плоскости $XY$
	- Для этого смотрим угол между вектором $n$ и его проекцией на плоскость $XY$
	Проекция вектора на $XY$-плоскость имеет координаты $(x,y,0)$.
	Её длина:
		$$r = \sqrt{x^2+y^2}$$
		тогда угол между вектором $(x,y,0)$ и вектором $(x,y,z)$ равен:
		$$\theta=atan2(z,r)$$
- (крен ϕ=0\phi = 0ϕ=0, потому что мы задаём только направление, а не поворот вокруг собственного направления вектора.)
$$
\boxed{
\begin{array}{l}
\text{Рыскание (Yaw)} \quad \psi = atan2(y,x) \\
\text{Тангаж (Pitch)} \quad \theta = atan2(z, \sqrt{x^2+y^2}) \\
\text{Крен (Roll)} \quad \phi = 0
\end{array}
}
$$
